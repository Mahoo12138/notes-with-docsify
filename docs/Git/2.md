## 在提交树上移动

> **HEAD**：是一个对当前检出记录的符号引用 —— 也就是指向你正在其基础上进行工作的提交记录。
>
> HEAD 总是指向当前分支上最近一次提交记录。大多数修改提交树的 Git 命令都是从改变 HEAD 的指向开始的。
>
> HEAD 通常情况下是指向分支名的。在你提交时，改变了分支的状态，这一变化通过 HEAD 变得可见。

### 相对引用（^）

在实际应用时，一般使用 `git log` 来查查看提交记录的哈希值（基于 SHA-1，共 40 位）。所以，通过指定提交记录哈希值的方式在 Git 中移动并不太方便。

Git 引入了相对引用，你就可以从一个易于记忆的地方（比如当前分支或 `HEAD`）开始计算。

相对引用非常给力，这里我介绍两个简单的用法：

- 使用 `^` 向上移动 1 个提交记录
- 使用 `~<num>` 向上移动多个提交记录，如 `~3`

### 撤销变更

和提交一样，撤销变更由底层部分（暂存区的独立文件或者片段）和上层部分（变更到底是通过哪种方式被撤销的）组成。

主要有两种方法用来撤销变更 —— 一是 `git reset`，还有就是 `git revert`

`git reset` 通过把分支记录回退几个提交记录来实现撤销改动。你可以将这想象成“改写历史”。`git reset` 向上移动分支，原来指向的提交记录就跟从来没有提交过一样，这种“改写历史”的方法对大家一起使用的远程分支是无效的。

为了撤销更改并分享给别人，我们需要使用 `git revert`。撤销后，在我们要撤销的提交记录后面实际是多了一个新的提交。这是因为新提交记录引入了**更改** —— 这些更改刚好是用来撤销预先要撤销的提交的。也就是说新提交的状态与原来的提交记录是相同的。

